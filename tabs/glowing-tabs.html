<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glowing Tabs</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        #root {
            width: 400px;
            height: 400px;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .tabs-container {
            display: flex;
            gap: 0;
            position: relative;
            width: fit-content;
            height: 60px;
            overflow: hidden;
        }

        .tab {
            width: 130px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            position: relative;
            user-select: none;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .tab-text {
            font-family: 'Geist', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            font-weight: 500;
            font-size: 16px;
            color: rgb(255, 255, 255);
            position: relative;
            z-index: 2;
            transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .active-tab-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            height: 2px;
            width: 130px;
            pointer-events: none;
            will-change: transform;
            transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            overflow: visible;
        }

        .active-tab {
            height: 100%;
            width: 100%;
            background-color: rgb(255, 255, 255);
            box-shadow: 
                rgba(255, 255, 255, 0.49) 0px -2px 6px 0px,
                rgba(255, 255, 255, 0.3) 0px -4px 12px 1px,
                rgba(255, 255, 255, 0.2) 0px -6px 24px 2px,
                rgba(255, 255, 255, 0.2) 0px -8px 36px 3px,
                rgba(255, 255, 255, 0.1) 0px -10px 40px 30px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script>
        const { useState, useEffect } = React;

        const tabs = [
            { id: 'tab1', label: 'KPIs' },
            { id: 'tab2', label: 'Customers' },
            { id: 'tab3', label: 'Tab 3' },
            { id: 'tab4', label: 'Tab 4' }
        ];

        function GlowingTabs() {
            const [activeTab, setActiveTab] = useState('tab1');

            const activeIndex = tabs.findIndex(tab => tab.id === activeTab);
            const linePosition = activeIndex * 130;

            useEffect(() => {
                const handleKeyDown = (e) => {
                    if (e.key === 'ArrowLeft') {
                        e.preventDefault();
                        const newIndex = activeIndex > 0 ? activeIndex - 1 : tabs.length - 1;
                        setActiveTab(tabs[newIndex].id);
                    } else if (e.key === 'ArrowRight') {
                        e.preventDefault();
                        const newIndex = activeIndex < tabs.length - 1 ? activeIndex + 1 : 0;
                        setActiveTab(tabs[newIndex].id);
                    }
                };

                window.addEventListener('keydown', handleKeyDown);
                return () => window.removeEventListener('keydown', handleKeyDown);
            }, [activeIndex]);

            
            return React.createElement('div', { className: 'tabs-container' },
                tabs.map((tab) =>
                    React.createElement('div', {
                        key: tab.id,
                        className: 'tab',
                        onClick: () => setActiveTab(tab.id)
                    },
                        React.createElement('div', {
                            className: 'tab-text',
                            style: { opacity: activeTab === tab.id ? 1 : 0.5 }
                        }, tab.label)
                    )
                ),
                React.createElement('div', {
                    className: 'active-tab-wrapper',
                    style: { transform: `translateX(${linePosition}px)` }
                },
                    React.createElement('div', { className: 'active-tab' })
                )
            );
        }

        function initApp() {
            try {
                if (typeof React === 'undefined' || typeof ReactDOM === 'undefined') {
                    console.error('React not loaded');
                    document.getElementById('root').innerHTML = '<div style="color: white; padding: 20px;">Loading React...</div>';
                    setTimeout(initApp, 100);
                    return;
                }
                const root = ReactDOM.createRoot ? ReactDOM.createRoot(document.getElementById('root')) : null;
                if (root) {
                    root.render(React.createElement(GlowingTabs));
                } else {
                    ReactDOM.render(React.createElement(GlowingTabs), document.getElementById('root'));
                }
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('root').innerHTML = '<div style="color: white; padding: 20px;">Error: ' + error.message + '</div>';
            }
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initApp);
        } else {
            initApp();
        }
    </script>
</body>
</html>
